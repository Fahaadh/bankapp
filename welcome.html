<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Kalnia:wght@100&family=Montserrat:wght@100&family=Mukta:wght@600&family=Noto+Sans:wght@300&family=Nova+Square&family=Oswald:wght@200&family=Raleway:wght@200&family=Rethink+Sans&family=Roboto+Condensed:wght@100;400;600&family=Rubik+Bubbles&family=Rubik+Doodle+Shadow&family=Saira+Semi+Condensed:wght@100&family=Shadows+Into+Light&family=Space+Grotesk:wght@300&family=Ubuntu:wght@300&display=swap" rel="stylesheet">
<!-- Font awsome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="./script.js"></script>
</head>
<body style="background-image: url(./banking-service-background-bank-building-icon-made-with-currency-symbols-dollar-euro-yen-pound-icons_127544-803.avif); background-size: cover; background-repeat: no-repeat;" >
    <div class="row" style="position: sticky;top: 1px;">
        
        <div class="col-4 ms-5 mt-5"><h1 style="color: cornflowerblue;"><b>My Bank</b></h1></div>
        <div class="col-1"></div>
        <div class="col-2"></div>
        <div class="col-1 mt-5 ms-1"><a href="http://127.0.0.1:5500/BANK%20TASK/home.html"><button id="topbtn" class="btn btn" style="border-radius: 20px; color: white;"> Home </button></a></div>
        <div class="col-1 mt-5 ms-1"><a href="http://127.0.0.1:5500/BANK%20TASK/home.html"><button id="topbtn" class="btn btn" style="border-radius: 20px; color: white;">Services</button></a></div>
        <div class="col-1 mt-5 ms-1"><a href="http://127.0.0.1:5500/BANK%20TASK/signup.html"><button id="topbtn" class="btn btn" style="border-radius: 20px; color: white;">Sign up</button></a></div>
        <div class="col-1 mt-5 ms-1"><a href="http://127.0.0.1:5500/BANK%20TASK/signin.html"><button id="topbtn" class="btn btn" style="border-radius: 20px; color: white;">Sign in</button></a></div>
    </div>

    <!-- body -->
   <center> <div  class="mt-5" style="width: 1200px; height: 65px; background-color: cornflowerblue; border-radius: 40px; font-size: 40px; color: white;"><h1 id="disp" style="position: relative; top: 5px;"></h1></div></center> 
    <br> <br>
   <div class="row">
    <div class="col-2"></div>
    <div class="col-4 container-fluid" style=" width: 400px; height: 350px; border-radius: 20px; backdrop-filter: blur(6px);">
        <h1 class="mt-4" style="position: relative; left: 90px; color: gray;"><b>Deposite</b></h1>
        <input id="deposit" style="width: 300px; border-radius: 20px;" type="text" class="form-control ms-4 mt-5" placeholder="Enter the amount">
        <input id="pswd3" style="width: 300px; border-radius: 20px;" type="password" class="form-control ms-4 mt-3" placeholder="Enter your password">
        <button onclick="deposit()" class="btn btn-primary ms-5 mt-3" style="position: relative; left: 70px;">Deposite</button>
        <div id="balance"></div>
    </div>
    <div class="col-4 container-fluid" style=" width: 400px; height: 350px; border-radius: 20px; backdrop-filter: blur(6px);">
        <h1 class="mt-4" style="position: relative; left: 90px; color: gray;"><b>Withdraw</b></h1>
        <input id="deposit1" style="width: 300px; border-radius: 20px;" type="text" class="form-control ms-4 mt-5" placeholder="Enter the amount">
        <input id="pswd4" style="width: 300px; border-radius: 20px;" type="password" class="form-control ms-4 mt-3" placeholder="Enter your password">
        <button onclick=" withdraw()" class="btn btn-primary ms-5 mt-3" style="position: relative; left: 70px;">Withdraw</button>
        <div id="balanace1"></div>
    </div>
    <div class="col-2"></div>
   </div>


   <script>
     const username = localStorage.getItem("name");
      let balance = localStorage.getItem("balance");
      document.getElementById("disp").innerHTML = `Welcome ${username}`

      function deposit() {
        const inp1 = document.getElementById("deposit").value;
        const inp2 = document.getElementById("pswd3").value;
        if (inp1 === "" || inp2 === "") {
          alert("Please fill in all details");
        } else {
          const upwd = localStorage.getItem("pass");
          if (upwd !== inp2) {
            alert("Incorrect Password.Please try again");
          } else {
            if (inp1 <= 0) {
              alert("Please enter a valid deposit amount.");
              return;
            }
            balance = parseInt(balance || 0);
            balance += parseInt(inp1);
            alert(`₹${inp1} has been added to your account`);

            localStorage.setItem("dbalance", balance);
            document.getElementById("balance").innerHTML = `<h5>
            Your current balance : &#8377;${balance}</h5>`;
          }
        }
      }

      function withdraw() {
        const inp3 = parseInt(document.getElementById("deposit1").value); // Parse inp3 to integer
        const inp4 = document.getElementById("pswd4").value;
        if (inp3 === "" || inp4 === "") {
          alert("Please fill in all details");
        } else {
          const upwd = localStorage.getItem("pass");
          if (upwd !== inp4) {
            alert("Incorrect Password.Please try again");
          } else {
            let ubal = parseInt(localStorage.getItem("dbalance"))  // Parse ubal to integer
            // console.log(ubal);
            // console.log(inp3);
            if (inp3 > ubal) {
              alert("Insufficient Funds.");
              return;
            }
            ubal -= inp3;
            alert(`₹${inp3} has been withdrawn from your account`);
            localStorage.setItem("wbalance", ubal);
            document.getElementById("balanace1").innerHTML = `<h5>
              Your current balance : &#8377;${ubal}</h5>`;
          }
        }
      }



   </script>
</body>
</html>